<%- include("header",{mode:''}) %>
<!-- End Main Sidebar -->

  <div class="main-content-container container-fluid px-4">
    <!-- Page Header -->
    <div class="page-header row no-gutters py-4">
      <div class="col-12 col-sm-4 text-center text-sm-left mb-0">
        <span class="text-uppercase page-subtitle">Tablero Principal</span>
        <h3 class="page-title">Últimos Reportes</h3>
      </div>
    </div>
    <!-- End Page Header -->
    <!-- Small Stats Blocks -->
    <div class="row">
      <%for (var report of reports){%>
      <div class="col-lg col-md-6 col-sm-6 mb-4"> 
        <div class="stats-small stats-small--1 card card-small">
          <div class="card-body p-0 d-flex">
            <div class="chartjs-size-monitor"
              style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;">
              <div class="chartjs-size-monitor-expand"
                style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                <div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div>
              </div>
              <div class="chartjs-size-monitor-shrink"
                style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                <div style="position:absolute;width:200%;height:200%;left:0; top:0"></div>
              </div>
            </div>
            <div class="d-flex flex-column m-auto">
              <div class="stats-small__data text-center">
                <span class="stats-small__label text-uppercase"><%=report.name%></span>
                <h6 class="stats-small__value count my-3"><%=report.averagePower%> Kw</h6>
              </div>
              <div class="stats-small__data">
                <span class="card-post__category badge badge-pill badge-primary"><%=report.secondsDuration / 60%> Minutos </span>
                  <!-- <span class="stats-small__percentage stats-small__percentage"><%=report.duracion%> Minutos</span> -->
              </div>
            </div>
            <canvas height="150" class="blog-overview-stats-small-3"></canvas>
          </div>
        </div>
      </div>
      <%}%>

      <div class="col-lg col-md-12 col-sm-12 mb-4">
          <div class="stats-small stats-small--1 card card-small">
            <div class="card-body p-0 d-flex">
                <!-- <a href="/reportes/nuevo" class="btn btn-large btn-primary">
                    <i class="icon-apple icon-3x pull-left"></i>
                        <span style="font-size:plus;">Crear Reporte</span>
                    App Store
                </a> -->
              <button type="button" style="font-size: 20px; line-height: 20px" href="/reportes/nuevo" class="btn btn-sm btn-primary flex-fill">Crear Reporte</button>
            </div>
          </div>
        </div>
        <!-- End Small Stats Blocks -->
        <!-- End Top Referrals Component -->
    </div>

    <div class="row">
            <!-- Users Stats -->

            <div class="col-lg-8 col-md-12 col-sm-12 mb-4">
              <div class="card card-small">
                <div class="card-header border-bottom">
                  <h6 class="m-0">Simulaciones</h6>
                </div>

                <% if(simulations.length > 0){ %>
                <div class="card-body pt-0">
                  <div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;">
                    <div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                      <div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0">
                      </div>
                    </div>
                    <div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                      <div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
                  <div class="row border-bottom py-2 bg-light">
                    <div class="col-12 col-sm-6">
                      <div id="blog-overview-date-range" class="input-daterange input-group input-group-sm my-auto ml-auto mr-auto ml-sm-auto mr-sm-0" style="max-width: 350px;">
                        <input type="text" class="input-sm form-control" name="start" placeholder="Start Date" id="blog-overview-date-range-1">
                        <input type="text" class="input-sm form-control" name="end" placeholder="End Date" id="blog-overview-date-range-2">
                        <span class="input-group-append">
                          <span class="input-group-text">
                            <i class="material-icons"></i>
                          </span>
                        </span>
                      </div>
                    </div>
                    <div class="col-12 col-sm-6 d-flex mb-2 mb-sm-0">
                      <button type="button" class="btn btn-sm btn-white ml-auto mr-auto ml-sm-auto mr-sm-0 mt-3 mt-sm-0">Ver Simulaciones completas →</button>
                    </div>
                  </div>
                  <canvas height="550" style="max-width: 100% !important; display: block; height: 275px; width: 636px;" class="blog-overview-users chartjs-render-monitor" width="1272"></canvas>
                </div>
                <% }else{ %>
                      <button height="140" style="max-width: 100% !important; display: block; height: 140px; font-size: 20px; line-height: 20px" type="button" href="/simulations/new" class="btn btn-sm btn-primary flex-fill">Crear Simulacion</button>
                <% } %>

              </div>
            </div>


            <!-- End Users Stats -->
            <!-- Users By Medition Stats -->
            <% if(simulations.length > 0){ %>
            <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
              <div class="card card-small h-100">
                <div class="card-header border-bottom">
                  <h6 class="m-0">Costos</h6>
                </div>
                <div class="card-footer border-bottom">
                        <div class="row">
                          <div class="col">
                            <select name="simulations" id="feInputState" class="custom-select custom-select-sm">
                                    <option selected="">Simulaciones...</option>
                                    <%for (var simulation of simulations){%>
      <option value=<%=simulation.id%>><%=simulation.name%></option>
      <%}%>
                            </select>
                          </div>
                          <div class="col text-right view-report">
                            <a href="#">Costos Detallados →</a>
                          </div>
                        </div>
                      </div>

                <div class="card-body d-flex py-0">
                  <div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;">
                    <div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                      <div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0">
                      </div>
                    </div>
                    <div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">

              </div>
            </div>
                  <canvas height="420" class="blog-users-by-medition m-auto chartjs-render-monitor" width="574" style="display: block; height: 210px; width: 287px;"></canvas>
                </div>
              </div>

              </div>
              <% } %>

    </div>
            <!-- End Users By Medition Stats -->


            <!-- End Top Referrals Component -->
          </div>
</div>



<% include footer.ejs %>
